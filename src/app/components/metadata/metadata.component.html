<form [formGroup]="metadataFormGroup" (ngSubmit)="this.metadataFormSubmit()">
  <div class="container text-center">

    <div formGroupName="metadata" class="form-area">
      <div class="row align-items-start">
        <div class="col-12 mb-1 text-uppercase fs-5 fw-medium">
          {{title.data}}
        </div>
      </div>

      <div class="row">
        <div class="col-12 mb-1">
          <textarea class="form-control" [ngModel]="description.data" [value]="fileContent" formControlName="fDescription"
            rows="15"></textarea>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-12 mb-1">
        <div class="input-group">
          <input type="file" class="form-control" (change)="this.onFileSelected($event)" />
          <button type="submit" class="btn btn-primary">
            Create
          </button>
        </div>
      </div>
    </div>

    <div formGroupName="metadataItemList" class="form-area">
      <div class="row">

        <div class="col-2">
          <div *ngIf="architectures.length > 0">
            <select class="form-select form-control-sm" [(ngModel)]="architecturesDdl" formControlName="fArchitecture">
              <option *ngFor="let architecture of architectures" [value]="architecture.metadata.id">
                {{ this.itemDescriptionFromList(architecture.metadata.id, architecture.metadata.data) }}
              </option>
            </select>
          </div>
        </div>

        <div class="col-2">
          <div *ngIf="databases.length > 0">
            <select class="form-select form-control-sm" [(ngModel)]="databasesDdl" formControlName="fDatabase">
              <option *ngFor="let database of databases" [value]="database.metadata.id">
                {{ this.itemDescriptionFromList(database.metadata.id, database.metadata.data) }}
              </option>
            </select>
          </div>
        </div>

        <div class="col-2">
          <div *ngIf="databasesEngineer.length > 0">
            <select class="form-select form-control-sm" [(ngModel)]="databasesEngineerDdl"
              formControlName="fDatabaseEngineer">
              <option *ngFor="let databaseEngineer of databasesEngineer" [value]="databaseEngineer.metadata.id">
                {{ this.itemDescriptionFromList(databaseEngineer.metadata.id, databaseEngineer.metadata.data) }}
              </option>
            </select>
          </div>
        </div>

        <div class="col-2">
          <div *ngIf="databases.length > 0">
            <select class="form-select form-control-sm" [(ngModel)]="developmentEnvironmentsDdl"
              formControlName="fDevelopmentEnvironment">
              <option *ngFor="let developmentEnvironment of developmentEnvironments"
                [value]="developmentEnvironment.metadata.id">
                {{ this.itemDescriptionFromList(developmentEnvironment.metadata.id,
                developmentEnvironment.metadata.data) }}
              </option>
            </select>
          </div>
        </div>

        <div class="col-2">
          <div *ngIf="databases.length > 0">
            <select class="form-select form-control-sm" [(ngModel)]="formsDdl" formControlName="fForm">
              <option *ngFor="let form of forms" [value]="form.metadata.id">
                {{ this.itemDescriptionFromList(form.metadata.id,
                form.metadata.data) }}
              </option>
            </select>
          </div>
        </div>

        <!-- Validations. -->
        <div
          *ngIf="getMetadataFormGroupDescription?.invalid && (getMetadataFormGroupDescription?.dirty || getMetadataFormGroupDescription?.touched)"
          class="alert alert-danger mt-1" role="alert">

          <div *ngIf="getMetadataFormGroupDescription?.errors?.['required']">Description is invalid.</div>
          <div *ngIf="getMetadataFormGroupDescription?.errors?.['minlength']">Description must be at least 2 characters
            long.</div>
        </div>

        <div class="col-12"
          *ngIf="getMetadataFormGroupArchitecture?.invalid && (getMetadataFormGroupArchitecture?.dirty || getMetadataFormGroupArchitecture?.touched)"
          class="alert alert-danger mt-1" role="alert">

          <div *ngIf="getMetadataFormGroupArchitecture?.errors?.['min']">Architecture is invalid.</div>
        </div>

        <div class="col-12"
          *ngIf="getMetadataFormGroupDatabase?.invalid && (getMetadataFormGroupDatabase?.dirty || getMetadataFormGroupDatabase?.touched)"
          class="alert alert-danger mt-1" role="alert">

          <div *ngIf="getMetadataFormGroupDatabase?.errors?.['min']">Database is invalid.</div>
        </div>

        <div class="col-12"
          *ngIf="getMetadataFormGroupDatabaseEngineer?.invalid && (getMetadataFormGroupDatabaseEngineer?.dirty || getMetadataFormGroupDatabaseEngineer?.touched)"
          class="alert alert-danger mt-1" role="alert">

          <div *ngIf="getMetadataFormGroupDatabaseEngineer?.errors?.['min']">Database engineer is invalid.</div>
        </div>

        <div class="col-12"
          *ngIf="getMetadataFormGroupDevelopmentEnvironment?.invalid && (getMetadataFormGroupDevelopmentEnvironment?.dirty || getMetadataFormGroupDevelopmentEnvironment?.touched)"
          class="alert alert-danger mt-1" role="alert">

          <div *ngIf="getMetadataFormGroupDevelopmentEnvironment?.errors?.['min']">Development environment is invalid.
          </div>
        </div>

        <div class="col-12"
          *ngIf="getMetadataFormGroupForm?.invalid && (getMetadataFormGroupForm?.dirty || getMetadataFormGroupForm?.touched)"
          class="alert alert-danger mt-1" role="alert">

          <div *ngIf="getMetadataFormGroupForm?.errors?.['min']">Form is invalid.</div>
        </div>
        <!-- Validations. -->
      </div>

    </div>
  </div>

</form>